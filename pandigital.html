<script type="text/javascript">
  // The number, 1406357289, is a 0 to 9 pandigital number because it is made up of each of the digits 0 to 9 in some order, but it also has a rather interesting sub-string divisibility property.
  //
  // Let d1 be the 1st digit, d2 be the 2nd digit, and so on. In this way, we note the following:
  //
  // d2d3d4=406 is divisible by 2
  // d3d4d5=063 is divisible by 3
  // d4d5d6=635 is divisible by 5
  // d5d6d7=357 is divisible by 7
  // d6d7d8=572 is divisible by 11
  // d7d8d9=728 is divisible by 13
  // d8d9d10=289 is divisible by 17
  //
  // Return an array of all 0 to 9 pandigital numbers with this property.


  // To return an array of all pandigital numbers I need
  // a way to randomly generate numbers
  // --> can use Math.random to randomize and then test
  // --> but doesn't feel very systematic. Is there a finite amount? How would I know I've got all of them?
  // a way to test if they are pandigital -> return true if conditions met
  // --> In order to test the conditions are met, I need to have the number as an array so I can loop over it. So in actuallity the number itself is an array that I loop over, then concatenate, then put in a new array
  // --> So what is the best way of creating an array, of 10 digits, 0 - 9, randomly?
  // --> Does it need to be random? Why can't I start with an array. Test the properties, then shuffle them again, and test again.
  // a way to push them into an array -> push

  // So really there is a few parts
  // Shuffling an array of 10 digits
  // testing it
  // then pushing the tested one into an array

  // Let's make a function that takes an array of 10 digits and randomly shuffles them (https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array)

  // function shuffle(array) {
  //   var currentIndex = array.length, temporaryValue, randomIndex;
  //
  //   // While there remain elements to shuffle...
  //   while (0 !== currentIndex) {
  //
  //     // Pick a remaining element...
  //     randomIndex = Math.floor(Math.random() * currentIndex);
  //     currentIndex -= 1;
  //
  //     // And swap it with the current element.
  //     temporaryValue = array[currentIndex];
  //     array[currentIndex] = array[randomIndex];
  //     array[randomIndex] = temporaryValue;
  //   }
  //
  //   return array;
  // }

  const digit10 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

  // console.log('result 1', shuffle(digit10).join(''));
  // console.log('result 2', shuffle(digit10).join(''));
  // console.log('result 3', shuffle(digit10).join(''));

  // Now create a function that checks if it satisfies the conditions
  // console.log('slice 1', digit10.slice(1,4).join('') % 2 === 0);
  // console.log('slice 2', digit10.slice(2,5).join('') % 3 === 0);
  // console.log('slice 3', digit10.slice(3,6).join('') % 5 === 0);
  // console.log('slice 4', digit10.slice(4,7).join('') % 7 === 0);
  // console.log('slice 5', digit10.slice(5,8).join('') % 11 === 0);
  // console.log('slice 6', digit10.slice(6,9).join('') % 13 === 0);
  // console.log('slice 7', digit10.slice(7,10).join('') % 17 === 0);
  // Alltogether Now
  function checkConditions(array){
    if (array.slice(1,4).join('') % 2 === 0 && array.slice(2,5).join('') % 3 === 0 && array.slice(3,6).join('') % 5 === 0 && array.slice(4,7).join('') % 7 === 0 && array.slice(5,8).join('') % 11 === 0 && array.slice(6,9).join('') % 13 === 0 && array.slice(7,10).join('') % 17 === 0){
      // console.log('Satisfies conditions');
      return true;
    } else {
      // console.log('Doesnt meet conditions');
      return false;
    }
  }

  // const example = [1, 4, 0, 6, 3, 5, 7, 2, 8, 9];

  // checkConditions(example); // this now satisfies conditions, as expected

  // Refactor - The .join can happen within the shuffle function, and check conditions can take the string rather than the array as an argument.

  // function shuffle(array) {
  //   var currentIndex = array.length, temporaryValue, randomIndex;
  //   while (0 !== currentIndex) {
  //     randomIndex = Math.floor(Math.random() * currentIndex);
  //     currentIndex -= 1;
  //     temporaryValue = array[currentIndex];
  //     array[currentIndex] = array[randomIndex];
  //     array[randomIndex] = temporaryValue;
  //   }
  //   console.log(array);
  //   return array.join('');
  // }

  // console.log('new shuffle', shuffle(digit10)); // now returns straight as a string

  // function checkConditions(numberString){
  //   if (numberString.slice(1,4) % 2 === 0 && numberString.slice(2,5) % 3 === 0 && numberString.slice(3,6) % 5 === 0 && numberString.slice(4,7) % 7 === 0 && numberString.slice(5,8) % 11 === 0 && numberString.slice(6,9) % 13 === 0 && numberString.slice(7,10) % 17 === 0){
  //     console.log('Satisfies conditions');
  //     // return true
  //   } else {
  //     console.log('Doesnt meet conditions');
  //     // return false;
  //   }
  // }

  // const example = '1406357289';

  // const correctAnswers = [];

  // checkConditions(example);

  // function shuffleAndCheck(array){
  //   shuffledNumberString = shuffle(array);
  //   console.log(shuffledNumberString);
  //   if (checkConditions(shuffledNumberString)){
  //     console.log('We have one');
  //     correctAnswers.push(shuffledNumberString);
  //   } else {
  //     console.log('No we dont');
  //   }
  // }

  // console.log('1', shuffleAndCheck(digit10));
  // console.log('2', shuffleAndCheck(digit10));
  // console.log('3', shuffleAndCheck(digit10));
  // console.log('4', shuffleAndCheck(digit10));
  // console.log('5', shuffleAndCheck(digit10));
  // shuffleAndCheck(digit10) // checked again with example directly in function just to see it can work - it did

  // for(let i = 1; i < 100000; i++){
  //   shuffleAndCheck(digit10);
  // }

  // console.log(correctAnswers); ran at i< 100000 and returned 1 correct answer = ["1406357289"] which happens to be the one we already knew ??

  // Problems with current solution?
  // 1. Conditions aren't very clean - could be more elegant
  // 2. The random shuffles is expensive. How can I shuffle through systematically?
  // 3. How do I know I have ALL of them that meet the condition? I could just put the loop higher and higher but takes more compute time.

  // Tests
  // Could have tested each individual function - make sure shuffle returns in diff order (.equals expect to.be false)
  // Make sure check conditions returns either or


  // pandigital(1){
  //   return [0];
  // }
  //
  // pandigital(2){
  //   return [01, 10];
  // }
  //
  // pandigital(3){
  //   return [012, 021, 102, 120, 201, 210];
  // }

  // So...
  // pandigital(3){
  //   // pandigital(2);
  //   // [[01], [10]];
  //   const ans = [];
  //   for( let i = 0; i < 3, i ++){
  //     pandigital(2).forEach(num => ans.push(num.splice(i, 0, 2)))
  //   }
  // }

  // We can use splice to push into it
  // array = [1, 2, 3];
  // console.log(array);
  // console.log(array.splice(3, 0, 4));
  // console.log(array);

  // function pandigital(arg){
  //   // pandigital(2);
  //   // [[01], [10]];
  //   const ans = [];
  //   for (let i = 0; i < arg; i ++){
  //     pandigital(arg - 1).forEach(num => ans.push(num.splice(i, 0, arg-1)))
  //   }
  //   return [];
  // }

  // what does pandigital(2) look like if we put in the numbers?

  // pandigital(2){
  //   const ans = [];
  //   for(let i = 0; i < 2; i ++){
  //     pandigital(1).forEach(num => ans.push(num.splice(i, 0, 1)))
  //   }
  // }
  //
  // pandigital(1){
  //   const ans = [];
  //   for(let i=0; i < 1; i++){
  //     pandigital(0).forEach(num => ans.push(num.splice(i, 0, 0)));
  //   }
  // }
  //
  // pandigital(0){
  //   if (arg === 0) return [''];
  // }

  // Let's try this
  function pandigital(arg){
    if (arg === 1) return [[0]];
    const ans = [];
    for (let i = 0; i < arg; i ++){
      pandigital(arg - 1).forEach(num => {
        num.splice(i, 0, arg-1);
        // num = num.join('');
        // if (checkConditions(num)) ans.push(num);
        ans.push(num);
      })
    }
    return ans;
  }

  // console.log('0', pandigital(0));
  // console.log('1', pandigital(1));
  // console.log('2', pandigital(2));
  // console.log('3', pandigital(3));
  // console.log('10', pandigital(10));

  // this now works - created pandigitals

  // Now I need to add in the check credentials before pushing to answer

  console.log('checkConditions', checkConditions([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]));
  console.log('checkConditions', checkConditions([1, 4, 0, 6, 3, 5, 7, 2, 8, 9]));

  

</script>
